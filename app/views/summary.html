<div class="container-fluid">

    <div ng-if="dataRetrievalError" class="row">
        <div class="col-lg-6 col-sm-12">
            <div class="alert alert-danger">
                <p>Sorry - there was a problem getting book data. Please try again later.</p>
            </div>
        </div>
    </div>

    <div ng-if="bookDeletedOk" class="row">
        <div class="col-lg-6 col-sm-12">
            <div class="alert alert-danger">
                <p>The '{{deletedBook}}' book was deleted OK.</p>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-3 col-sm-6">
            <div class="card">
                <div class="content">
                    <div class="row">
                        <div class="col-xs-5">
                            <div class="icon-big icon-warning text-center">
                                <i class="ti-book"></i>
                            </div>
                        </div>
                        <div class="col-xs-7">
                            <div class="numbers">
                                <p>Books listed</p>
                                27
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-3 col-sm-6">
            <div class="card">
                <div class="content">
                    <div class="row">
                        <div class="col-xs-5">
                            <div class="icon-big icon-success text-center">
                                <i class="ti-thumb-up"></i>
                            </div>
                        </div>
                        <div class="col-xs-7">
                            <div class="numbers">
                                <p>Top rated books</p>
                                11
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-3 col-sm-6">
            <div class="card">
                <div class="content">
                    <div class="row">
                        <div class="col-xs-5">
                            <div class="icon-big icon-info text-center">
                                <i class="ti-thumb-down"></i>
                            </div>
                        </div>
                        <div class="col-xs-7">
                            <div class="numbers">
                                <p>Worst rated books</p>
                                9
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-3 col-sm-6">
            <div class="card">
                <div class="content">
                    <div class="row">
                        <div class="col-xs-5">
                            <div class="icon-big icon-danger text-center">
                                <i class="ti-cup"></i>
                            </div>
                        </div>
                        <div class="col-xs-7">
                            <div class="numbers">
                                <p>Most popular genre</p>
                                Spy novels
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">

        <div class="col-md-12">
            <div class="card">
                <div class="header">
                    <h4 class="title">Recently added books</h4>
                    <p class="category">Most recently read / added</p>
                </div>
                <div class="content">


                    <table class="table">
                        <thead>
                            <tr>
                                <th>Title</th>
                                <th>Author</th>
                                <th>Rating</th>
                                <th>Date</th>
                                <th>Genre</th>
                                <th>See more...</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat-start="book in data.content">
                                <td><a ng-href="#/book/{{book.id}}">{{book.title}}</a></td>
                                <td>{{book.author}}</td>
                                <td>{{book.rating | capitalize}}</td>
                                <td>{{book.entered[2] + '-' + book.entered[1] + '-' + book.entered[0]}}</td>
                                <td>{{book.genre}}</td>
                                <td>
                                    <button type="button" class="btn btn-primary" ng-click="toggleSelected(book)"><i ng-class="book.expanded ? 'ti-angle-up' : 'ti-angle-down'"></i></button>
                                </td>
                            </tr>
                            <tr class="bookSummary" ng-if="book.expanded" ng-repeat-end="">
                                <td class="bookSummary" colspan="5">
                                    <img ng-if="book.googleBookDetails.volumeInfo.imageLinks.smallThumbnail" class="rounded pull-left listThumbnail" ng-src="{{book.googleBookDetails.volumeInfo.imageLinks.smallThumbnail}}">
                                    <p class="reviewSummary"><b>Summary:</b> {{book.summary}}</p>
                                    <p ng-if="book.createdBy.fullName" class="reviewSummaryAuthor"><b>Reviewer: </b> {{book.createdBy.fullName}}</p>
                                </td>
                                <td class="bookSummary bookSummaryButtons">
                                    <button type="button" class="btn btn-xs btn-info btnList" ng-click="bookDetails(book)"><i class="ti-new-window"> Full Details</i></button><br>
                                    <button type="button" class="btn btn-xs btn-info btnList" ng-click="editSelected(book)"><i class="ti-pencil-alt"> Edit</i></button><br>
                                    <button type="button" class="btn btn-xs btn-danger btnList" ng-click="deleteSelected(book)"><i class="ti-close"> Delete</i></button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <nav aria-label="Scroll through table">
                        <ul class="pager">
                            <li ng-class="{'disabled': data.first}"><a ng-click="previous()" href="">Previous</a></li>
                            <span class="bookspager">Page {{data.number + 1}} of {{data.totalPages}}</span>
                            <li ng-class="{'disabled': data.last}" ><a ng-click="next()" href="">Next</a></li>
                        </ul>
                    </nav>


                    <div class="footer">
                        <hr>
                        <div class="stats">
                            <i class="ti-reload"></i> Updated 3 minutes ago
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


</div>
